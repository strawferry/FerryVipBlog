<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-center-atom.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"strawferry.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.18.0","exturl":true,"sidebar":{"position":"right","width":320,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"show_result":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="好好过一生">
<meta property="og:type" content="website">
<meta property="og:title" content="FerryVip&#39;s Blog">
<meta property="og:url" content="https://strawferry.github.io/page/4/index.html">
<meta property="og:site_name" content="FerryVip&#39;s Blog">
<meta property="og:description" content="好好过一生">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="FerryVip">
<meta property="article:tag" content="前端,分享,博客,前端开发,前端技术">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://strawferry.github.io/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>FerryVip's Blog - 技术分享</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-88853535-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-88853535-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "kt6ijw4ygg");
  </script>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">FerryVip's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">技术分享</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">40</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="FerryVip"
      src="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
  <p class="site-author-name" itemprop="name">FerryVip</p>
  <div class="site-description" itemprop="description">好好过一生</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3N0cmF3ZmVycnk=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;strawferry"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly94aWFvaG9uZ3NodXNoYXJlLm9ubGluZQ==" title="Share工具 → https:&#x2F;&#x2F;xiaohongshushare.online"><i class="fa fa-link fa-fw"></i>Share工具</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2017/03/12/pm2%20node%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/03/12/pm2%20node%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/" class="post-title-link" itemprop="url">pm2 node 服务器部署</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-03-12 22:02:31" itemprop="dateCreated datePublished" datetime="2017-03-12T22:02:31+08:00">2017-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="pm2-node-服务器部署"><a href="#pm2-node-服务器部署" class="headerlink" title="pm2 node 服务器部署"></a>pm2 node 服务器部署</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><code>npm i -g pm2</code></p>
<h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><p>基本的 <code>pm2 start app.js</code></p>
<p>带参数 <code>pm2 ENV=production start app.js</code></p>
<h2 id="从-config-js-文件启动-pm2-start-app-config-js"><a href="#从-config-js-文件启动-pm2-start-app-config-js" class="headerlink" title="从 .config.js 文件启动 pm2 start app.config.js"></a>从 .config.js 文件启动 <code>pm2 start app.config.js</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  apps : [&#123;</span><br><span class="line">    name        : <span class="string">&quot;worker&quot;</span>,</span><br><span class="line">    script      : <span class="string">&quot;./worker.js&quot;</span>,</span><br><span class="line">    watch       : <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">env</span>: &#123;</span><br><span class="line">      <span class="string">&quot;NODE_ENV&quot;</span>: <span class="string">&quot;development&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    env_production : &#123;</span><br><span class="line">       <span class="string">&quot;NODE_ENV&quot;</span>: <span class="string">&quot;production&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">    name       : <span class="string">&quot;api-app&quot;</span>,</span><br><span class="line">    script     : <span class="string">&quot;./api.js&quot;</span>,</span><br><span class="line">    instances  : <span class="number">4</span>,</span><br><span class="line">    exec_mode  : <span class="string">&quot;cluster&quot;</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="从-json-文件启动-pm2-start-app-json"><a href="#从-json-文件启动-pm2-start-app-json" class="headerlink" title="从 json 文件启动 pm2 start app.json"></a>从 json 文件启动 <code>pm2 start app.json</code></h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;apps&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lost100-dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;script&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./scripts/server.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;watch&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ignore_watch&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span> <span class="string">&quot;files&quot;</span><span class="punctuation">,</span> <span class="string">&quot;public&quot;</span><span class="punctuation">,</span> <span class="string">&quot;logs&quot;</span><span class="punctuation">,</span> <span class="string">&quot;mongodb&quot;</span><span class="punctuation">,</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span> <span class="string">&quot;.idea/&quot;</span><span class="punctuation">,</span> <span class="string">&quot;.git&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;max_memory_restart&quot;</span><span class="punctuation">:</span> <span class="string">&quot;150M&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;instances&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;exec_mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cluster&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;NODE_ENV&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dev&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;PORT&quot;</span><span class="punctuation">:</span> <span class="number">5566</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="可用的参数详情"><a href="#可用的参数详情" class="headerlink" title="可用的参数详情"></a>可用的参数详情</h2><p>General</p>
<table>
<thead>
<tr>
<th align="center">Field</th>
<th align="center">Type</th>
<th align="center">Example</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">name</td>
<td align="center">(string)</td>
<td align="center">“my-api”</td>
<td align="center">application name (default to script filename without extension)</td>
</tr>
<tr>
<td align="center">script</td>
<td align="center">(string)</td>
<td align="center">”.&#x2F;api&#x2F;app.js”</td>
<td align="center">script path relative to pm2 start</td>
</tr>
<tr>
<td align="center">cwd</td>
<td align="center">(string)</td>
<td align="center">“&#x2F;var&#x2F;www&#x2F;”</td>
<td align="center">the directory from which your app will be launched</td>
</tr>
<tr>
<td align="center">args</td>
<td align="center">(string)</td>
<td align="center">“-a 13 -b 12”</td>
<td align="center">string containing all arguments passed via CLI to script</td>
</tr>
<tr>
<td align="center">interpreter</td>
<td align="center">(string)</td>
<td align="center">“&#x2F;usr&#x2F;bin&#x2F;python”</td>
<td align="center">interpreter absolute path (default to node)</td>
</tr>
<tr>
<td align="center">interpreter_args</td>
<td align="center">(string)</td>
<td align="center">”–harmony”</td>
<td align="center">option to pass to the interpreter</td>
</tr>
<tr>
<td align="center">node_args</td>
<td align="center">(string)</td>
<td align="center"></td>
<td align="center">alias to interpreter_args</td>
</tr>
</tbody></table>
<p>Advanced features</p>
<table>
<thead>
<tr>
<th align="center">Field</th>
<th align="center">Type</th>
<th align="center">Example</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">instances</td>
<td align="center">number</td>
<td align="center">-1</td>
<td align="center">number of app instance to be launched</td>
</tr>
<tr>
<td align="center">exec_mode</td>
<td align="center">string</td>
<td align="center">“cluster”</td>
<td align="center">mode to start your app, can be “cluster” or “fork”, default fork</td>
</tr>
<tr>
<td align="center">watch</td>
<td align="center">boolean or []</td>
<td align="center">true</td>
<td align="center">enable watch &amp; restart feature, if a file change in the folder or subfolder, your app will get reloaded</td>
</tr>
<tr>
<td align="center">ignore_watch</td>
<td align="center">list</td>
<td align="center">[”[/\].&#x2F;”, “node_modules”]</td>
<td align="center">list of regex to ignore some file or folder names by the watch feature</td>
</tr>
<tr>
<td align="center">max_memory_restart</td>
<td align="center">string</td>
<td align="center">“150M”</td>
<td align="center">your app will be restarted if it exceeds the amount of memory specified. human-friendly format : it can be “10M”, “100K”, “2G” and so on…</td>
</tr>
<tr>
<td align="center">env</td>
<td align="center">object</td>
<td align="center">{“NODE_ENV”: “development”, “ID”: “42”}</td>
<td align="center">env variables which will appear in your app</td>
</tr>
<tr>
<td align="center">env_</td>
<td align="center">object</td>
<td align="center">{“NODE_ENV”: “production”, “ID”: “89”}</td>
<td align="center">inject when doing pm2 restart app.yml –env</td>
</tr>
<tr>
<td align="center">source_map_support</td>
<td align="center">boolean</td>
<td align="center">true</td>
<td align="center">default to true, [enable&#x2F;disable source map file]</td>
</tr>
<tr>
<td align="center">instance_var</td>
<td align="center">string</td>
<td align="center">“NODE_APP_INSTANCE”</td>
<td align="center">see documentation</td>
</tr>
</tbody></table>
<p>Log files</p>
<table>
<thead>
<tr>
<th align="center">Field</th>
<th align="center">Type</th>
<th align="center">Example</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">log_date_format</td>
<td align="center">(string)</td>
<td align="center">“YYYY-MM-DD HH:mm Z”</td>
<td align="center">log date format (see log section)</td>
</tr>
<tr>
<td align="center">error_file</td>
<td align="center">(string)</td>
<td align="center">error file path</td>
<td align="center">(default to $HOME&#x2F;.pm2&#x2F;logs&#x2F;XXXerr.log)</td>
</tr>
<tr>
<td align="center">out_file</td>
<td align="center">(string)</td>
<td align="center">output file path</td>
<td align="center">(default to $HOME&#x2F;.pm2&#x2F;logs&#x2F;XXXout.log)</td>
</tr>
<tr>
<td align="center">combine_logs</td>
<td align="center">boolean</td>
<td align="center">true</td>
<td align="center">if set to true, avoid to suffix</td>
</tr>
<tr>
<td align="center">merge_logs</td>
<td align="center">boolean</td>
<td align="center">true</td>
<td align="center">alias to combine_logs</td>
</tr>
<tr>
<td align="center">pid_file</td>
<td align="center">(string)</td>
<td align="center">pid file path</td>
<td align="center">(default to $HOME&#x2F;.pm2&#x2F;pid&#x2F;app-pm_id.pid)</td>
</tr>
</tbody></table>
<p>Control flow</p>
<table>
<thead>
<tr>
<th align="center">Field</th>
<th align="center">Type</th>
<th align="center">Example</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="center">min_uptime</td>
<td align="center">(string)</td>
<td align="center"></td>
<td align="center">min uptime of the app to be considered started</td>
</tr>
<tr>
<td align="center">listen_timeout</td>
<td align="center">number</td>
<td align="center">8000</td>
<td align="center">time in ms before forcing a reload if app not listening</td>
</tr>
<tr>
<td align="center">kill_timeout</td>
<td align="center">number</td>
<td align="center">1600</td>
<td align="center">time in milliseconds before sending a final SIGKILL</td>
</tr>
<tr>
<td align="center">wait_ready</td>
<td align="center">boolean</td>
<td align="center">false</td>
<td align="center">Instead of reload waiting for listen event, wait for process.send(‘ready’)</td>
</tr>
<tr>
<td align="center">max_restarts</td>
<td align="center">number</td>
<td align="center">10</td>
<td align="center">number of consecutive unstable restarts (less than 1sec interval or custom time via min_uptime) before your app is considered errored and stop being restarted</td>
</tr>
<tr>
<td align="center">restart_delay</td>
<td align="center">number</td>
<td align="center">4000</td>
<td align="center">time to wait before restarting a crashed app (in milliseconds). defaults to 0.</td>
</tr>
<tr>
<td align="center">autorestart</td>
<td align="center">boolean</td>
<td align="center">false</td>
<td align="center">true by default. if false, PM2 will not restart your app if it crashes or ends peacefully</td>
</tr>
<tr>
<td align="center">cron_restart</td>
<td align="center">string</td>
<td align="center">“1 0 * * *”</td>
<td align="center">a cron pattern to restart your app. Application must be running for cron feature to work</td>
</tr>
<tr>
<td align="center">vizion</td>
<td align="center">boolean</td>
<td align="center">false</td>
<td align="center">true by default. if false, PM2 will start without vizion features (versioning control metadatas)</td>
</tr>
<tr>
<td align="center">post_update</td>
<td align="center">list</td>
<td align="center">[“npm install”, “echo launching the app”]</td>
<td align="center">a list of commands which will be executed after you perform a Pull&#x2F;Upgrade operation from Keymetrics dashboard</td>
</tr>
<tr>
<td align="center">force</td>
<td align="center">boolean</td>
<td align="center">true</td>
<td align="center">defaults to false. if true, you can start the same script several times which is usually not allowed by PM2</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2017/02/22/hybrid-app-codepush/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/22/hybrid-app-codepush/" class="post-title-link" itemprop="url">混合app集成热更新</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-02-22 15:55:02" itemprop="dateCreated datePublished" datetime="2017-02-22T15:55:02+08:00">2017-02-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="混合app集成热更新"><a href="#混合app集成热更新" class="headerlink" title="混合app集成热更新"></a>混合app集成热更新</h1><p>原因是因为之前做的都是纯 rn 项目,偶尔接入原生,所以 codepush 比较好集成.</p>
<p>有一次在想如果原本是原生的项目,后面只是引入 rn 作为一些基础模块,这样的更新要如何做,也就有了这篇文章(技术很早实现了,博客因为懒后面盆友需要,拖了现在才写,也是尴尬);</p>
<h2 id="1-前提工作"><a href="#1-前提工作" class="headerlink" title="1. 前提工作"></a>1. 前提工作</h2><p>你目前的 iOS 项目已经是 ReactNative 混合 App;<br>这边我用我之前的来做,具体代码可以看<span class="exturl" data-url="aHR0cHM6Ly9mZXJyeXZpcC5jb2RpbmcubWUvRmVycnlWaXBCbG9nLzIwMTYvMTIvMjgvaU9TLXdpdGgtUmVhY3ROYXRpdmUv">这个链接(国内Coding)<i class="fa fa-external-link-alt"></i></span>或者<a href="https://strawferry.github.io/FerryVipBlog/2016/12/28/iOS-with-ReactNative/">这个链接(国外github)</a>;</p>
<h2 id="2-了解一些-codepush-的原理"><a href="#2-了解一些-codepush-的原理" class="headerlink" title="2. 了解一些 codepush 的原理"></a>2. 了解一些 codepush 的原理</h2><p>之前在 CSDN 写的 codepush 相关的博客</p>
<p><span class="exturl" data-url="aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc3RyYXdmZXJyeS9hcnRpY2xlL2RldGFpbHMvNTIxMjQzNjI=">CodePush 热更新ReactNative之CodePush CLI操作<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc3RyYXdmZXJyeS9hcnRpY2xlL2RldGFpbHMvNTIxMzA4NzA=">CodePush 热更新ReactNative之React Native Client SDK<i class="fa fa-external-link-alt"></i></span></p>
<p>可以看下了解,当然最好去<span class="exturl" data-url="aHR0cHM6Ly9taWNyb3NvZnQuZ2l0aHViLmlvL2NvZGUtcHVzaC9pbmRleC5odG1s">官方 gayhub 去看文档<i class="fa fa-external-link-alt"></i></span>比较好;</p>
<p>按照文档吧 codepush 的环境安装好👌;</p>
<h2 id="3-集成进入-App-项目里"><a href="#3-集成进入-App-项目里" class="headerlink" title="3. 集成进入 App 项目里"></a>3. 集成进入 App 项目里</h2><ol>
<li>安装 codepush 模块 <code>npm install --save react-native-code-push@latest</code>;</li>
<li>在安装完成后,可以执行命令自动导包进去 <code>react-native link react-native-code-push</code>, 当然也可以手动导包,自己<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9yZWFjdC1uYXRpdmUtY29kZS1wdXNoL2Jsb2IvbWFzdGVyL2RvY3Mvc2V0dXAtaW9zLm1k">看下官方文档<i class="fa fa-external-link-alt"></i></span>;<br>在自动导包时,会要求你添加 codepush 的 key, 可以跳过下面会说到怎么添加;</li>
<li>到此就可以看到 package.json 里面多了一个模块;<br>目录变化<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczbmb0flej20hp0aftbz" alt="目录变化"></li>
</ol>
<p>原生项目文件变化,添加了 CodePush 工程,还有一些静态库,至于 AppDelegate.m 里面的好像是会有,有点忘记了;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczbxpo37qj20qs0lqk2g" alt="原生项目文件变化"></p>
<h2 id="4-配置-codepush-的-key"><a href="#4-配置-codepush-的-key" class="headerlink" title="4. 配置 codepush 的 key"></a>4. 配置 codepush 的 key</h2><ol>
<li>codepush 创建 app <code>code-push app add MyApp-iOS</code> 会从中得到一个 key ,复制这个 key ,下一步在 iOS 原生中会用到;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczc7np6mwj20pp0ezakd" alt="key"></li>
<li>iOS中原生配置 key ,在 Info.plist 文件中,如下图;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczcaop98uj20qs0lq7dn"></li>
</ol>
<h2 id="5-原生代码配置"><a href="#5-原生代码配置" class="headerlink" title="5. 原生代码配置"></a>5. 原生代码配置</h2><ol>
<li>AppDelegate.m 文件中配置,为了一进入 App 就加载好了, codepush 环境,我个人认为的,没有去测试;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczcl67242j20vn0v4wvj"></li>
<li>在每处用到混合的地方加入代码,这边我用到了两处,所以两个的 .m 文件中,我都加入类似的代码;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczclg4mmqj20vn0v4n94"></li>
</ol>
<h2 id="6-js-代码的配置"><a href="#6-js-代码的配置" class="headerlink" title="6. js 代码的配置"></a>6. js 代码的配置</h2><p>js 基本的配置就是这些,具体的有些配置,可以<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9yZWFjdC1uYXRpdmUtY29kZS1wdXNoL2Jsb2IvbWFzdGVyL2RvY3MvYXBpLWpzLm1k">官方文档看下<i class="fa fa-external-link-alt"></i></span>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczcq1yucej20wz0cl7a8"></p>
<h2 id="7-iOS-打-release-包"><a href="#7-iOS-打-release-包" class="headerlink" title="7. iOS 打 release 包"></a>7. iOS 打 release 包</h2><ol>
<li>在 js 主目录下,执行命令 <code>curl http://localhost:8081/index.ios.bundle -o main.jsbundle</code> 会在目录下有个 main.jsbundle 的文件,这个需要拖到 iOS 原生目录下,每次打包重新生成,都需要替换进去;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fczd173ncnj20rd0ign3j"></li>
<li>iOS 打包 ipa 包,只要把刚才的 main.jsbundle 拖进去,剩下的步骤和正常打包一样;</li>
</ol>
<h2 id="8-打-codepush-更新包"><a href="#8-打-codepush-更新包" class="headerlink" title="8. 打 codepush 更新包"></a>8. 打 codepush 更新包</h2><p>在 js 的目录下,执行命令 <code>code-push release-react youAppName ios</code>, 最简单命令,直接推到Staging;</p>
<h2 id="9-到此基本结束-根据你设置的更新条件-App-就会自动更新了"><a href="#9-到此基本结束-根据你设置的更新条件-App-就会自动更新了" class="headerlink" title="9. 到此基本结束,根据你设置的更新条件, App 就会自动更新了;"></a>9. 到此基本结束,根据你设置的更新条件, App 就会自动更新了;</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/12/28/iOS-with-ReactNative/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/12/28/iOS-with-ReactNative/" class="post-title-link" itemprop="url">iOS-with-ReactNative</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-12-28 14:08:04" itemprop="dateCreated datePublished" datetime="2016-12-28T14:08:04+08:00">2016-12-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="如何在现有的iOS项目中添加ReactNative混合开发"><a href="#如何在现有的iOS项目中添加ReactNative混合开发" class="headerlink" title="如何在现有的iOS项目中添加ReactNative混合开发"></a>如何在现有的iOS项目中添加ReactNative混合开发</h1><p>如果公司的项目之前是用原生, 现在想做混合开发并且选择ReactNative, 这篇会是一个基础的环境配置;</p>
<h2 id="1-开发环境准备"><a href="#1-开发环境准备" class="headerlink" title="1. 开发环境准备"></a>1. 开发环境准备</h2><p>首先, 至少你已经搭建了 <code>React Native</code> 的<span class="exturl" data-url="aHR0cDovL3JlYWN0bmF0aXZlLmNuL2RvY3MvMC4zOS9nZXR0aW5nLXN0YXJ0ZWQuaHRtbA==">开发环境<i class="fa fa-external-link-alt"></i></span>在iOS平台上所需的一切依赖软件（比如npm）。</p>
<p>其次, <span class="exturl" data-url="aHR0cDovL2NvY29hcG9kcy5vcmcv">CocoaPods<i class="fa fa-external-link-alt"></i></span> 包管理工具, 基本做iOS开发都有装, 如果没有, 那就百度一下😂;</p>
<h2 id="2-安装依赖包"><a href="#2-安装依赖包" class="headerlink" title="2. 安装依赖包"></a>2. 安装依赖包</h2><p>React Native的植入过程同时需要React和React Native两个node依赖包。<br><img data-src="https://ws2.sinaimg.cn/large/8bbf0afbjw1fb4ay3fky6j20hk0c70vj.jpg"><br>在你的原有的iOS目录的上一级目录创建一个包管理package.json文件;</p>
<blockquote>
<p>对于一个典型的React Native项目来说，一般package.json和index.ios.js等文件会放在项目的根目录下。而iOS相关的原生代码会放在一个名为ios&#x2F;的子目录中,这里也同时放着你的Xcode项目文件（.xcodeproj）。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// package.json 文件内容</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;NumberTileGame&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;node node_modules/react-native/local-cli/cli.js start&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;15.4.1&quot;,</span><br><span class="line">    &quot;react-native&quot;: &quot;0.39.2&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 通过npm info react和npm info react-native 来查看当前的最新版本</span><br></pre></td></tr></table></figure>
<blockquote>
<p>npm install   &#x2F;&#x2F; 在 package.json 的当前目录下开启终端执行这段代码, 这些模块就会安装到 <code>node_modules/</code> 下;</p>
</blockquote>
<h2 id="3-React-Native框架嵌入iOS"><a href="#3-React-Native框架嵌入iOS" class="headerlink" title="3. React Native框架嵌入iOS"></a>3. React Native框架嵌入iOS</h2><h3 id="Subspecs"><a href="#Subspecs" class="headerlink" title="Subspecs"></a>Subspecs</h3><p>在你开始把React Native植入到你的应用中之前，首先要决定具体整合的是React Native框架中的哪些部分。而这就是subspec要做的工作。在创建Podfile文件的时候，需要指定具体安装哪些React Native的依赖库。所指定的每一个库就称为一个subspec。</p>
<p>可用的subspec都列在<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9ibG9iL21hc3Rlci9SZWFjdC5wb2RzcGVj">node_modules&#x2F;react-native&#x2F;React.podspec<i class="fa fa-external-link-alt"></i></span>中，基本都是按其功能命名的。一般来说你首先需要添加Core，这一subspec包含了必须的AppRegistry、StyleSheet、View以及其他的一些React Native核心库。如果你想使用React Native的Text库（即<Text>组件），那就需要添加RCTText的subspec。同理，Image需要加入RCTImage，等等。</p>
<h3 id="Podfile"><a href="#Podfile" class="headerlink" title="Podfile"></a>Podfile</h3><p>在 CocoaPods 的 Podfile 中指定我们所需要使用的组件。如果原生没有用过 CocoaPods 管理;</p>
<blockquote>
<p>&#x2F;&#x2F;在iOS原生代码所在的目录中（也就是<code>.xcodeproj</code>文件所在的目录）执行：<br> <code>pod init</code></p>
</blockquote>
<p>Podfile 会创建在执行命令的目录中。你需要调整其内容以满足你的植入需求。调整后的Podfile的内容看起来类似下面这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># target的名字一般与你的项目名字相同</span><br><span class="line">target &#x27;NumberTileGame&#x27; do</span><br><span class="line"></span><br><span class="line">  # &#x27;node_modules&#x27;目录一般位于根目录中</span><br><span class="line">  # 但是如果你的结构不同，那你就要根据实际路径修改下面的`:path`</span><br><span class="line">  pod &#x27;React&#x27;, :path =&gt; &#x27;../node_modules/react-native&#x27;, :subspecs =&gt; [</span><br><span class="line">    &#x27;Core&#x27;,</span><br><span class="line">    &#x27;RCTText&#x27;,</span><br><span class="line">    &#x27;RCTNetwork&#x27;,</span><br><span class="line">    &#x27;RCTWebSocket&#x27;, # 这个模块是用于调试功能的</span><br><span class="line">    # 在这里继续添加你所需要的模块</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h3 id="Pod安装"><a href="#Pod安装" class="headerlink" title="Pod安装"></a>Pod安装</h3><p>创建好了Podfile后，就可以开始安装React Native的pod包了。</p>
<blockquote>
<p><code>pod install</code></p>
</blockquote>
<h2 id="4-代码集成"><a href="#4-代码集成" class="headerlink" title="4. 代码集成"></a>4. 代码集成</h2><h3 id="原生代码集成"><a href="#原生代码集成" class="headerlink" title="原生代码集成"></a>原生代码集成</h3><p>在要混合开发的页面, 加入如下代码</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RNViewController 页面</span></span><br><span class="line">- (<span class="type">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="variable language_">super</span> viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSURL</span> *jsCodeLocation = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@&quot;http://localhost:8081/index.ios.bundle?platform=ios&quot;</span>];</span><br><span class="line">    RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL : jsCodeLocation</span><br><span class="line">                         moduleName        : <span class="string">@&quot;HybridApp&quot;</span></span><br><span class="line">                         initialProperties : @&#123;<span class="string">@&quot;page&quot;</span> : <span class="string">@&quot;RN1&quot;</span>&#125;  <span class="comment">// 传入参数,用于定义那个页面或者一些数据传输</span></span><br><span class="line">                          launchOptions    : <span class="literal">nil</span>];</span><br><span class="line">    <span class="keyword">self</span>.view = rootView;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ReactNative代码集成"><a href="#ReactNative代码集成" class="headerlink" title="ReactNative代码集成"></a>ReactNative代码集成</h3><p><code>index.ios.js</code> js 代码的入口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">AppRegistry</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./app&#x27;</span>;</span><br><span class="line"><span class="title class_">AppRegistry</span>.<span class="title function_">registerComponent</span>(<span class="string">&#x27;HybridApp&#x27;</span>, <span class="function">() =&gt;</span> <span class="title class_">App</span>);</span><br><span class="line"><span class="comment">// 注册模块</span></span><br></pre></td></tr></table></figure>
<p><code>app.js</code> 在这边做页面判断,当然你也可以根据自己的需求去做调整</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">RN1</span> <span class="keyword">from</span> <span class="string">&#x27;./ReactNative1&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">RN2</span> <span class="keyword">from</span> <span class="string">&#x27;./ReactNative2&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">props</span>[<span class="string">&#x27;page&#x27;</span>] == <span class="string">&#x27;RN1&#x27;</span> ? <span class="language-xml"><span class="tag">&lt;<span class="name">RN1</span> /&gt;</span></span>:<span class="language-xml"><span class="tag">&lt;<span class="name">RN2</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ReactNative1.js</code> 页面1</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="title class_">StyleSheet</span>,</span><br><span class="line">    <span class="title class_">Text</span>,</span><br><span class="line">    <span class="title class_">View</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">ReactNative1</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.highScoresTitle&#125;</span>&gt;</span>ReactNative1<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;height:</span> <span class="attr">100</span>, <span class="attr">width:</span> <span class="attr">100</span>, <span class="attr">backgroundColor:</span> &#x27;<span class="attr">blue</span>&#x27;&#125;&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> styles = <span class="title class_">StyleSheet</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">container</span>: &#123;</span><br><span class="line">        <span class="attr">flex</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">justifyContent</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">alignItems</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="string">&#x27;#FFFFFF&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">highScoresTitle</span>: &#123;</span><br><span class="line">        <span class="attr">fontSize</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">textAlign</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">margin</span>: <span class="number">10</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>ReactNative2.js</code> 页面2</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="title class_">StyleSheet</span>,</span><br><span class="line">    <span class="title class_">Text</span>,</span><br><span class="line">    <span class="title class_">View</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">ReactNative1</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.highScoresTitle&#125;</span>&gt;</span>ReactNative2<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;height:</span> <span class="attr">100</span>, <span class="attr">width:</span> <span class="attr">100</span>, <span class="attr">backgroundColor:</span> &#x27;<span class="attr">red</span>&#x27;&#125;&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> styles = <span class="title class_">StyleSheet</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">container</span>: &#123;</span><br><span class="line">        <span class="attr">flex</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">justifyContent</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">alignItems</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="string">&#x27;#FFFFFF&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">highScoresTitle</span>: &#123;</span><br><span class="line">        <span class="attr">fontSize</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">textAlign</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">margin</span>: <span class="number">10</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3N0cmF3ZmVycnkvSHlicmlkQXBw">&gt;&gt;项目gayhub地址&lt;&lt;<i class="fa fa-external-link-alt"></i></span><br>效果展示</p>
<p><img data-src="https://ws3.sinaimg.cn/large/8bbf0afbjw1fb4aykwmpyg20970gjgok.gif"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/07/20/CodePush%20%E7%83%AD%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/07/20/CodePush%20%E7%83%AD%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">CodePush 热更新操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-07-20 15:41:01" itemprop="dateCreated datePublished" datetime="2016-07-20T15:41:01+08:00">2016-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>因为<span class="exturl" data-url="aHR0cHM6Ly9taWNyb3NvZnQuZ2l0aHViLmlvL2NvZGUtcHVzaC9kb2NzL2NsaS5odG1s">微软开源<i class="fa fa-external-link-alt"></i></span>的这个做的还不错,所以拿来用了</p>
<h3 id="1-CodePush-CLI安装"><a href="#1-CodePush-CLI安装" class="headerlink" title="1.   CodePush CLI安装"></a>1.   CodePush CLI安装</h3><ul>
<li>首先要安装<span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">Node.js<i class="fa fa-external-link-alt"></i></span></li>
<li>CodePush CLI安装 : <code>npm install -g code-push-cli</code></li>
</ul>
<h3 id="2-Account-账号管理"><a href="#2-Account-账号管理" class="headerlink" title="2. Account 账号管理"></a>2. Account 账号管理</h3><ul>
<li>注册<code>code-push register</code><br><img data-src="http://img.blog.csdn.net/20160804224117391" alt="codePush注册页面"><br>一般可以使用github登录(建议),也可以注册微软的账号!</li>
<li>退出账号后可以用<code>code-push link</code>,进入页面</li>
<li>登录 <code>code-push login</code><blockquote>
<p>条状页面,通过上面的那些图登录<br><img data-src="http://img.blog.csdn.net/20160804225819229" alt="选择登录方式"></p>
<p><img data-src="http://img.blog.csdn.net/20160804225840433" alt="登录的key"></p>
<p><img data-src="http://img.blog.csdn.net/20160804225951309" alt="输入key"></p>
</blockquote>
</li>
<li>当前登录账号 <code>code-push whoami</code></li>
<li>退出当前登录 <code>code-push logout</code></li>
<li>显示在那些电脑上面登录过账号 <code>code-push session ls</code></li>
<li>移除在某台电脑的登录 <code>code-push session rm &lt;machineName&gt;</code></li>
</ul>
<hr>
<ul>
<li>获取access-key不通过浏览器 <code>code-push access-key add &quot;VSTS Integration&quot;</code></li>
<li>通过上面的key登录 <code>code-push login --accessKey &lt;accessKey&gt;</code></li>
<li>设置key到期时间  <code>code-push access-key patch &lt;accessKeyName&gt; --name &quot;new name&quot; --ttl 10d</code></li>
<li>登录<code>HTTPS_PROXY or HTTP_PROXY</code>安全的一些东西<code>code-push login --noProxy</code> <code>code-push login --proxy https://foo.com:3454</code></li>
</ul>
<h3 id="3-App-管理"><a href="#3-App-管理" class="headerlink" title="3. App 管理"></a>3. App 管理</h3><ul>
<li><p>新建推送热更新的App <code>code-push app add &lt;appName&gt;</code></p>
<blockquote>
<p>建议是iOS和安卓版本分开创建<br><code>code-push app add MyApp-Android</code><br><code>code-push app add MyApp-iOS</code></p>
</blockquote>
</li>
<li><p>对App进行改名字 <code>code-push app rename &lt;appName&gt; &lt;newAppName&gt;</code></p>
</li>
<li><p>移除App <code>code-push app rm &lt;appName&gt;</code></p>
</li>
<li><p>列出账号的所有App <code>code-push app ls</code></p>
</li>
<li><p>App 增加参与的管理者(一般少用) <code>code-push collaborator add &lt;appName&gt; &lt;collaboratorEmail&gt;</code> </p>
</li>
<li><p>移除参与的管理者 <code>code-push collaborator rm &lt;appName&gt; &lt;collaboratorEmail&gt;</code></p>
</li>
<li><p>列出所有的参与者 <code>code-push collaborator ls &lt;appName&gt;</code></p>
</li>
<li><p>把自己的这个App管理权限转移给其他人 <code>code-push app transfer &lt;appName&gt; &lt;newOwnerEmail&gt;</code></p>
</li>
</ul>
<h3 id="4-开发环境管理"><a href="#4-开发环境管理" class="headerlink" title="4. 开发环境管理"></a>4. 开发环境管理</h3><ul>
<li>增加开发环境 <code>code-push deployment add &lt;appName&gt; &lt;deploymentName&gt;</code></li>
<li>移除 <code>code-push deployment rm &lt;appName&gt; &lt;deploymentName&gt;</code></li>
<li>换名字 <code>code-push deployment rename &lt;appName&gt; &lt;deploymentName&gt; &lt;newDeploymentName&gt;</code></li>
<li>列出所有的开发环境 <code>code-push deployment ls &lt;appName&gt;</code></li>
<li>列出所有的开发环境和对应access-key <code>code-push deployment ls &lt;appName&gt; --displayKeys 或者 -k</code><br><img data-src="http://img.blog.csdn.net/20160804231831147" alt="环境"><blockquote>
<p>Active 当前表示激活比例<br>Total  总共多少<br>Pending 处于未升级和不确定因素<br>Rollbacks 回滚的数<br>Rollout<br>Disabled</p>
</blockquote>
</li>
</ul>
<h3 id="5-更新版本管理"><a href="#5-更新版本管理" class="headerlink" title="5. 更新版本管理"></a>5. <span class="exturl" data-url="aHR0cHM6Ly9taWNyb3NvZnQuZ2l0aHViLmlvL2NvZGUtcHVzaC9kb2NzL2NsaS5odG1sI3JlbGVhc2luZy11cGRhdGVzLXJlYWN0LW5hdGl2ZQ==">更新版本管理<i class="fa fa-external-link-alt"></i></span></h3><ul>
<li>最简单的方法 <code>code-push release-react MyApp ios</code> <code>code-push release-react MyApp android</code></li>
<li>code-push release-react hxlivei ios -d “PrePush” –des “停车场”<blockquote>
<p>code-push release-react <appName> <platform><br>[–bundleName <bundleName>]<br>[–deploymentName <deploymentName>]<br>[–description <description>]<br>[–development <development>]<br>[–disabled <disabled>]<br>[–entryFile <entryFile>]<br>[–mandatory]<br>[–plistFile <plistFile>]<br>[–plistFilePrefix <plistFilePrefix>]<br>[–sourcemapOutput <sourcemapOutput>]<br>[–targetBinaryVersion <targetBinaryVersion>]<br>[–rollout <rolloutPercentage>]</p>
</blockquote>
</li>
</ul>
<h3 id="6-其他"><a href="#6-其他" class="headerlink" title="6. 其他"></a>6. 其他</h3><ul>
<li>清除更新记录 <code>code-push deployment clear &lt;appName&gt; &lt;deploymentName&gt;</code><br><img data-src="http://img.blog.csdn.net/20160804232838412" alt="清除历史"></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/07/20/CodePush%20%E5%9F%BA%E6%9C%AC%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/07/20/CodePush%20%E5%9F%BA%E6%9C%AC%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">CodePush 基本安装</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-07-20 13:23:42" itemprop="dateCreated datePublished" datetime="2016-07-20T13:23:42+08:00">2016-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1-电脑安装CodePush环境"><a href="#1-电脑安装CodePush环境" class="headerlink" title="1.电脑安装CodePush环境"></a>1.电脑安装CodePush环境</h2><blockquote>
<ol>
<li><p>安装命令<code>cnpm install -g code-push-cli</code></p>
</li>
<li><p>查看版本<code>code-push -v</code></p>
</li>
<li><p>注册账号<code>code-push register</code></p>
</li>
<li><p>登陆 <code>code-push login</code></p>
</li>
<li><p>注销 <code>code-push logout</code></p>
</li>
<li><p>列出 登陆的token <code>code-push access-key ls</code></p>
</li>
<li><p>删除某个access-key <code>code-push access-key rm &lt;accessKey&gt;</code></p>
</li>
</ol>
</blockquote>
<h3 id="CodePush一些app管理指令"><a href="#CodePush一些app管理指令" class="headerlink" title="CodePush一些app管理指令"></a>CodePush一些app管理指令</h3><blockquote>
<ol>
<li><p>增加app的指令 <code>code-push app add &lt;appName&gt;</code></p>
</li>
<li><p>列出所有app <code>code-push app ls</code></p>
</li>
<li><p>更名 <code>code-push app rename 旧名字 新名字</code></p>
</li>
<li><p>删除 <code>code-push app rm 旧名字</code></p>
</li>
</ol>
</blockquote>
<h3 id="CodePush-app部署管理指令"><a href="#CodePush-app部署管理指令" class="headerlink" title="CodePush app部署管理指令"></a>CodePush app部署管理指令</h3><blockquote>
<p>默认部署类型 Production  Staging，还可以自己加例如dev  alpha beta等</p>
<ol>
<li><p>列出app的部署环境 <code>code-push deployment ls &lt;appName&gt;</code></p>
</li>
<li><p>增加部署环境 <code>code-push deployment add &lt;appName&gt; &lt;部署名字&gt;</code></p>
</li>
<li><p>重命名部署名字：<code>code-push deployment rename app名字 旧部署名字 新部署名字</code></p>
</li>
<li><p>删除部署名字 <code>code-push deployment rm app名字 部署名字</code></p>
</li>
<li><p>查看历史版本<code>code-push deployment history appName deploymentName</code></p>
</li>
</ol>
</blockquote>
<h2 id="1-CodePush-项目目录下安装"><a href="#1-CodePush-项目目录下安装" class="headerlink" title="1.CodePush 项目目录下安装"></a>1.CodePush 项目目录下安装</h2><blockquote>
<p>npm install –save react-native-code-push@latest</p>
</blockquote>
<h2 id="2-iOS-Setup"><a href="#2-iOS-Setup" class="headerlink" title="2.iOS Setup"></a>2.iOS Setup</h2><h3 id="2-1推荐使用RNPM安装-React-Native-Package-Manager"><a href="#2-1推荐使用RNPM安装-React-Native-Package-Manager" class="headerlink" title="2.1推荐使用RNPM安装-React Native Package Manager"></a>2.1推荐使用RNPM安装-React Native Package Manager</h3><blockquote>
<p>工具安装命令 <code>npm i -g rnpm</code></p>
</blockquote>
<blockquote>
<p>Run <code>rnpm link react-native-code-push</code></p>
</blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9yZWFjdC1uYXRpdmUtY29kZS1wdXNo">其他安装方法<i class="fa fa-external-link-alt"></i></span></p>
<blockquote>
<p>react-native bundle –platform ios –entry-file index.ios.js –bundle-output main.jsbundle </p>
<p>code-push release newCPT react-native bundle –platform ios –entry-file index.ios.js –bundle-output main.jsbundl 1.0.0  [–deploymentName Staging] [–description 描述1.0.0] [–mandatory true] </p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/07/04/React%E5%92%8CReactNative%E7%9A%84ES5-ES6%E8%AF%AD%E6%B3%95%E5%86%99%E6%B3%95%E5%AF%B9%E7%85%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/07/04/React%E5%92%8CReactNative%E7%9A%84ES5-ES6%E8%AF%AD%E6%B3%95%E5%86%99%E6%B3%95%E5%AF%B9%E7%85%A7/" class="post-title-link" itemprop="url">React/React Native 的ES5 ES6写法对照表</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-07-04 16:22:51" itemprop="dateCreated datePublished" datetime="2016-07-04T16:22:51+08:00">2016-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="React-React-Native-的ES5-ES6写法对照表"><a href="#React-React-Native-的ES5-ES6写法对照表" class="headerlink" title="React&#x2F;React Native 的ES5 ES6写法对照表"></a>React&#x2F;React Native 的ES5 ES6写法对照表</h2><p>###1. 模块引用</p>
<blockquote>
<p>ES5 <code>使用CommonJS标准，引入React包基本通过require进行</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">React</span> = <span class="built_in">require</span>(<span class="string">&quot;react&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> &#123;</span><br><span class="line">    <span class="title class_">Component</span>,</span><br><span class="line">    <span class="title class_">PropTypes</span></span><br><span class="line">&#125; = <span class="title class_">React</span>;  <span class="comment">//引用React抽象组件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ReactNative</span> = <span class="built_in">require</span>(<span class="string">&quot;react-native&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> &#123;</span><br><span class="line">    <span class="title class_">Image</span>,</span><br><span class="line">    <span class="title class_">Text</span>,</span><br><span class="line">&#125; = <span class="title class_">ReactNative</span>;  <span class="comment">//引用具体的React Native组件</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>import写法更为标准</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; </span><br><span class="line">    <span class="title class_">Component</span>,</span><br><span class="line">    <span class="title class_">PropTypes</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    <span class="title class_">Image</span>,</span><br><span class="line">    <span class="title class_">Text</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-native&#x27;</span>;</span><br><span class="line"><span class="comment">//注意在React Native里，import直到0.12+才能正常运作。</span></span><br></pre></td></tr></table></figure>
<p>###2. 导出单个类</p>
<blockquote>
<p>ES5 <code>一般通过 module.exports 来导出</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyComponent</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">MyComponent</span>;</span><br><span class="line"><span class="comment">//引用的时候也类似：</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">MyComponent</span> = <span class="built_in">require</span>(<span class="string">&#x27;./MyComponent&#x27;</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>通常用export default来实现相同的功能</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//引用的时候也类似：</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./MyComponent&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>###3. 定义组件</p>
<blockquote>
<p>ES5 <code>通过React.createClass来定义一个组件类</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Photo</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">source</span>=<span class="string">&#123;this.props.source&#125;</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>通过定义一个继承自React.Component的class来定义一个组件类</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Photo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">source</span>=<span class="string">&#123;this.props.source&#125;</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###4. 给组件定义方法</p>
<blockquote>
<p>ES5  <code>名字: function()</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Photo</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    <span class="attr">componentWillMount</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">source</span>=<span class="string">&#123;this.props.source&#125;</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>名字()</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Photo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">source</span>=<span class="string">&#123;this.props.source&#125;</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###5. 定义组件的属性类型和默认属性</p>
<blockquote>
<p>ES5 <code>属性类型和默认属性分别通过 propTypes 成员和 getDefaultProps 方法来实现</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Video</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    <span class="attr">getDefaultProps</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">autoPlay</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">maxLoops</span>: <span class="number">10</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">propTypes</span>: &#123;</span><br><span class="line">        <span class="attr">autoPlay</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">bool</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">maxLoops</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">number</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">posterFrameSrc</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">videoSrc</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>可以统一使用static成员来实现</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Video</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">        <span class="attr">autoPlay</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">maxLoops</span>: <span class="number">10</span>,</span><br><span class="line">    &#125;;  <span class="comment">// 注意这里有分号</span></span><br><span class="line">    <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">        <span class="attr">autoPlay</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">bool</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">maxLoops</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">number</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">posterFrameSrc</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">        <span class="attr">videoSrc</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    &#125;;  <span class="comment">// 注意这里有分号</span></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> /&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125; <span class="comment">// 注意这里既没有分号也没有逗号</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>###6. 初始化STATE</p>
<blockquote>
<p>ES5 <code>getInitialState: function() &#123; return &#123;key: value&#125;; &#125;,</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Video</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    <span class="attr">getInitialState</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">loopsRemaining</span>: <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">maxLoops</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 <code>两种写法</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//写法1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Video</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">loopsRemaining</span>: <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">maxLoops</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//写法2 我们推荐更易理解的在构造函数中初始化（这样你还可以根据需要做一些计算)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Video</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">loopsRemaining</span>: <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">maxLoops</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###7. 把方法作为回调提供</p>
<blockquote>
<p>ES5 在ES5下，React.createClass会把所有的方法都bind一遍，这样可以提交到任意的地方作为回调函数，而this不会变化。但官方现在逐步认为这反而是不标准、不易理解的。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">PostInfo</span> = <span class="title class_">React</span>.<span class="title function_">createClass</span>(&#123;</span><br><span class="line">    <span class="attr">handleOptionsButtonClick</span>: <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="comment">// Here, &#x27;this&#x27; refers to the component instance.</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">showOptionsModal</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">TouchableHighlight</span> <span class="attr">onPress</span>=<span class="string">&#123;this.handleOptionsButtonClick&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Text</span>&gt;</span>&#123;this.props.label&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">TouchableHighlight</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ES6 在ES6下，你需要通过bind来绑定this引用，或者使用箭头函数（它会绑定当前scope的this引用）来调用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PostInfo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">handleOptionsButtonClick</span>(<span class="params">e</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">showOptionsModal</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">TouchableHighlight</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">onPress</span>=<span class="string">&#123;this.handleOptionsButtonClick.bind(this)&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">onPress</span>=<span class="string">&#123;e</span>=&gt;</span>this.handleOptionsButtonClick(e)&#125;</span></span><br><span class="line"><span class="language-xml">                &gt;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Text</span>&gt;</span>&#123;this.props.label&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">TouchableHighlight</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>箭头函数实际上是在这里定义了一个临时的函数，箭头函数的箭头&#x3D;&gt;之前是一个空括号、单个的参数名、或用括号括起的多个参数名，而箭头之后可以是一个表达式（作为函数的返回值），或者是用花括号括起的函数体（需要自行通过return来返回值，否则返回的是undefined）。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 箭头函数的例子</span><br><span class="line">()=&gt;1</span><br><span class="line">v=&gt;v+1</span><br><span class="line">(a,b)=&gt;a+b</span><br><span class="line">()=&gt;&#123;</span><br><span class="line">    alert(&quot;foo&quot;);</span><br><span class="line">&#125;</span><br><span class="line">e=&gt;&#123;</span><br><span class="line">    if (e == 0)&#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    return 1000/e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要注意的是，不论是bind还是箭头函数，每次被执行都返回的是一个新的函数引用，因此如果你还需要函数的引用去做一些别的事情（譬如卸载监听器），那么你必须自己保存这个引用</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">// 错误的做法</span><br><span class="line">class PauseMenu extends React.Component&#123;</span><br><span class="line">    componentWillMount()&#123;</span><br><span class="line">        AppStateIOS.addEventListener(&#x27;change&#x27;, this.onAppPaused.bind(this));</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidUnmount()&#123;</span><br><span class="line">        AppStateIOS.removeEventListener(&#x27;change&#x27;, this.onAppPaused.bind(this));</span><br><span class="line">    &#125;</span><br><span class="line">    onAppPaused(event)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 正确的做法</span><br><span class="line">class PauseMenu extends React.Component&#123;</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this._onAppPaused = this.onAppPaused.bind(this);</span><br><span class="line">    &#125;</span><br><span class="line">    componentWillMount()&#123;</span><br><span class="line">        AppStateIOS.addEventListener(&#x27;change&#x27;, this._onAppPaused);</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidUnmount()&#123;</span><br><span class="line">        AppStateIOS.removeEventListener(&#x27;change&#x27;, this._onAppPaused);</span><br><span class="line">    &#125;</span><br><span class="line">    onAppPaused(event)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">从这个帖子中我们还学习到一种新的做法：</span><br><span class="line">// 正确的做法</span><br><span class="line">class PauseMenu extends React.Component&#123;</span><br><span class="line">    componentWillMount()&#123;</span><br><span class="line">        AppStateIOS.addEventListener(&#x27;change&#x27;, this.onAppPaused);</span><br><span class="line">    &#125;</span><br><span class="line">    componentDidUnmount()&#123;</span><br><span class="line">        AppStateIOS.removeEventListener(&#x27;change&#x27;, this.onAppPaused);</span><br><span class="line">    &#125;</span><br><span class="line">    onAppPaused = (event) =&gt; &#123;</span><br><span class="line">        //把方法直接作为一个arrow function的属性来定义，初始化的时候就绑定好了this指针</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###8. ES6+带来的其它好处</p>
<blockquote>
<p>解构&amp;属性延展</p>
</blockquote>
<p>结合使用ES6+的解构和属性延展，我们给孩子传递一批属性更为方便了。这个例子把className以外的所有属性传递给div标签：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AutoloadingPostsGrid</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> &#123;</span><br><span class="line">            className,</span><br><span class="line">            ...others,  <span class="comment">// contains all properties of this.props except for className</span></span><br><span class="line">        &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;className&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">PostsGrid</span> &#123;<span class="attr">...others</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleLoadMoreClick&#125;</span>&gt;</span>Load more<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//下面这种写法，则是传递所有属性的同时，用覆盖新的className值：</span></span><br><span class="line">&lt;div &#123;...<span class="variable language_">this</span>.<span class="property">props</span>&#125; className=<span class="string">&quot;override&quot;</span>&gt;</span><br><span class="line">    …</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="comment">//这个例子则相反，如果属性中没有包含className，则提供默认的值，而如果属性中已经包含了，则使用属性中的值</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;base&quot;</span> &#123;<span class="attr">...this.props</span>&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">    …</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>








      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/06/26/React%20Native%20%E7%89%B9%E5%AE%9A%E5%B9%B3%E5%8F%B0%E9%80%89%E6%8B%A9-Platform/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/06/26/React%20Native%20%E7%89%B9%E5%AE%9A%E5%B9%B3%E5%8F%B0%E9%80%89%E6%8B%A9-Platform/" class="post-title-link" itemprop="url">React Native 特定平台选择-Platform</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-06-26 15:12:31" itemprop="dateCreated datePublished" datetime="2016-06-26T15:12:31+08:00">2016-06-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1-特定平台扩展名"><a href="#1-特定平台扩展名" class="headerlink" title="1. 特定平台扩展名"></a>1. 特定平台扩展名</h3><blockquote>
<p>React Native会检测某个文件是否具有.ios.或是.android.的扩展名，然后根据当前运行的平台加载正确对应的文件。<br>假设你的项目中有如下两个文件：<br><code>BigButton.ios.js</code><br><code>BigButton.android.js</code><br>这样命名组件后你就可以在其他组件中直接引用，而无需关心当前运行的平台是哪个。<br><code>import BigButton from &#39;./components/BigButton&#39;;</code></p>
</blockquote>
<h3 id="2-实用的方法是Platform-select"><a href="#2-实用的方法是Platform-select" class="headerlink" title="2. 实用的方法是Platform.select()"></a>2. 实用的方法是Platform.select()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123; <span class="title class_">Platform</span> &#125; = <span class="title class_">React</span>;</span><br><span class="line"><span class="keyword">var</span> styles = <span class="title class_">StyleSheet</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">container</span>: &#123;</span><br><span class="line">    <span class="attr">flex</span>: <span class="number">1</span>,</span><br><span class="line">    ...<span class="title class_">Platform</span>.<span class="title function_">select</span>(&#123;</span><br><span class="line">      <span class="attr">ios</span>: &#123;</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">android</span>: &#123;</span><br><span class="line">        <span class="attr">backgroundColor</span>: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//上面的代码会根据平台的不同返回不同的container样式——iOS上背景色为红色，而android为蓝色。</span></span><br><span class="line">这一方法可以接受任何合法类型的参数，因此你也可以直接用它针对不同平台返回不同的组件，像下面这样：</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Component</span> = <span class="title class_">Platform</span>.<span class="title function_">select</span>(&#123;</span><br><span class="line">  <span class="attr">ios</span>: <span class="function">() =&gt;</span> <span class="built_in">require</span>(<span class="string">&#x27;ComponentIOS&#x27;</span>),</span><br><span class="line">  <span class="attr">android</span>: <span class="function">() =&gt;</span> <span class="built_in">require</span>(<span class="string">&#x27;ComponentAndroid&#x27;</span>),</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Component</span> /&gt;</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-平台模块"><a href="#3-平台模块" class="headerlink" title="3. 平台模块"></a>3. 平台模块</h3><p>React Native提供了一个检测当前运行平台的模块。如果组件只有一小部分代码需要依据平台定制，那么这个模块就可以派上用场。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Platform &#125; from &#x27;react-native&#x27;;</span><br><span class="line">var styles = StyleSheet.create(&#123;</span><br><span class="line">  height: (Platform.OS === &#x27;ios&#x27;) ? 200 : 100,</span><br><span class="line">&#125;);</span><br><span class="line">//Platform.OS在iOS上会返回ios，而在Android设备或模拟器上则会返回android。</span><br></pre></td></tr></table></figure>

<h3 id="4-检测Android版本"><a href="#4-检测Android版本" class="headerlink" title="4. 检测Android版本"></a>4. 检测Android版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//在Android上，平台模块还可以用来检测当前所运行的Android平台的版本：</span><br><span class="line">import &#123; Platform &#125; from &#x27;react-native&#x27;;</span><br><span class="line">if(Platform.Version === 21)&#123;</span><br><span class="line">  console.log(&#x27;Running on Lollipop!&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><span class="exturl" data-url="aHR0cDovL3JlYWN0bmF0aXZlLmNuL2RvY3MvMC4yOC9wbGF0Zm9ybS1zcGVjaWZpYy1jb2RlLmh0bWwjY29udGVudA==">摘自React Native CN<i class="fa fa-external-link-alt"></i></span></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/06/15/ReactNative%20style%E6%A0%B7%E5%BC%8F%E4%B9%8BFlexbox%E5%B8%83%E5%B1%80%E6%A0%B7%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/06/15/ReactNative%20style%E6%A0%B7%E5%BC%8F%E4%B9%8BFlexbox%E5%B8%83%E5%B1%80%E6%A0%B7%E5%BC%8F/" class="post-title-link" itemprop="url">ReactNative style样式之Flexbox布局样式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-06-15 15:32:51" itemprop="dateCreated datePublished" datetime="2016-06-15T15:32:51+08:00">2016-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ReactNative-style样式之Flexbox布局样式"><a href="#ReactNative-style样式之Flexbox布局样式" class="headerlink" title="ReactNative style样式之Flexbox布局样式"></a>ReactNative style样式之Flexbox布局样式</h1><hr>
<h3 id="Flexbox布局样式-ReactNative是参考文档大于0-29的版本"><a href="#Flexbox布局样式-ReactNative是参考文档大于0-29的版本" class="headerlink" title="Flexbox布局样式 ReactNative是参考文档大于0.29的版本"></a>Flexbox布局样式 ReactNative是参考文档大于0.29的版本</h3><hr>
<p><span class="exturl" data-url="aHR0cDovL3d3dy5ydWFueWlmZW5nLmNvbS9ibG9nLzIwMTUvMDcvZmxleC1ncmFtbWFyLmh0bWw=">参考链接2<i class="fa fa-external-link-alt"></i></span></p>
<p><span class="exturl" data-url="aHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9jc3MvYS1ndWlkZS10by1mbGV4Ym94Lw==">参考链接1<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="1-6个属性设置在容器上"><a href="#1-6个属性设置在容器上" class="headerlink" title="1. 6个属性设置在容器上"></a>1. 6个属性设置在容器上</h3><h4 id="1-1-任何一个容器都可以指定为Flex布局。ReactNative无"><a href="#1-1-任何一个容器都可以指定为Flex布局。ReactNative无" class="headerlink" title="1.1 任何一个容器都可以指定为Flex布局。ReactNative无"></a>1.1 任何一个容器都可以指定为Flex布局。<strong>ReactNative无</strong></h4><blockquote>
<p><strong>display: flex;</strong></p>
</blockquote>
<blockquote>
<p><strong>display: inline-flex; &#x2F;&#x2F;行内元素也可以使用Flex布局。</strong><br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jap7mwnj21gc0va0zo.jpg" alt="flex布局元素"></p>
</blockquote>
<h4 id="1-2-flex-direction-属性决定主轴的方向（即项目的排列方向）。"><a href="#1-2-flex-direction-属性决定主轴的方向（即项目的排列方向）。" class="headerlink" title="1.2 flex-direction 属性决定主轴的方向（即项目的排列方向）。"></a>1.2 <code>flex-direction</code> 属性决定主轴的方向（即项目的排列方向）。</h4><blockquote>
<p><code>flex-direction: row(默认值) | row-reverse | column | column-reverse</code>;</p>
</blockquote>
<hr>
<blockquote>
<p>ReactNative 中的 <code>flexDirection</code>: <code>column</code>(默认值) | <code>column-reverse</code> | <code>row</code> | <code>row-reverse</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jbmm98sj21c20dy3zr.jpg" alt="flex-direction 排列方向"></p>
</blockquote>
<h4 id="1-3-flex-wrap-换行"><a href="#1-3-flex-wrap-换行" class="headerlink" title="1.3 flex-wrap 换行"></a>1.3 <code>flex-wrap</code> 换行</h4><blockquote>
<p><code>flex-wrap: nowrap | wrap | wrap-reverse</code>;</p>
</blockquote>
<hr>
<blockquote>
<p>ReactNative 中的 <code>flexWrap</code>: <code>nowrap</code> | <code>wrap</code> ;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jc2qtr0j215m1460zt.jpg" alt="flex-wrap 换行"></p>
</blockquote>
<h4 id="1-4-flex-flow-flex-direction-和flex-wrap-的简写-ReactNative无"><a href="#1-4-flex-flow-flex-direction-和flex-wrap-的简写-ReactNative无" class="headerlink" title="1.4 flex-flow flex-direction 和flex-wrap 的简写 ReactNative无"></a>1.4 <code>flex-flow</code> flex-direction 和flex-wrap 的简写 <strong>ReactNative无</strong></h4><blockquote>
<p><code>flex-flow : row || nowrap</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jcg1tljj21gu0c2762.jpg" alt="flex-flow"></p>
</blockquote>
<h4 id="1-5-justify-content-水平排列方式"><a href="#1-5-justify-content-水平排列方式" class="headerlink" title="1.5 justify-content 水平排列方式"></a>1.5 justify-content 水平排列方式</h4><blockquote>
<p><code>justify-content: flex-start | flex-end | center | space-between | space-around</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jcr73b1j218m0acgnf.jpg" alt="justify-content 水平排列方式"></p>
</blockquote>
<hr>
<blockquote>
<p>ReactNative中的 <code>justifyContent: flex-start | flex-end | center | space-between | space-around</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jd9q5gbj20hp0l70sn.jpg" alt="justify-content 水平排列方式"></p>
</blockquote>
<h4 id="1-6-align-items-垂直排列方式"><a href="#1-6-align-items-垂直排列方式" class="headerlink" title="1.6 align-items 垂直排列方式"></a>1.6 align-items 垂直排列方式</h4><blockquote>
<p><code>align-items: flex-start | flex-end | center | baseline | stretch</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jehu5qqj21bw0a00uq.jpg" alt="align-items 垂直排列方式"></p>
</blockquote>
<hr>
<blockquote>
<p>ReactNative中的 <code>alignItems: flex-start | flex-end | center | stretch</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jewomp8j20h50lu3yg.jpg" alt="align-items 垂直排列方式"></p>
</blockquote>
<h3 id="2-容器中项目的属性"><a href="#2-容器中项目的属性" class="headerlink" title="2. 容器中项目的属性"></a>2. 容器中项目的属性</h3><h4 id="2-1-order-ReactNative无"><a href="#2-1-order-ReactNative无" class="headerlink" title="2.1 order ReactNative无"></a>2.1 order <strong>ReactNative无</strong></h4><blockquote>
<p><code>order :&lt;number&gt;</code>; &#x2F;* default 0 *&#x2F;属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jf66cjzj20kv0dca9v.jpg" alt="order"></p>
</blockquote>
<h4 id="2-2-flex-grow-ReactNative无"><a href="#2-2-flex-grow-ReactNative无" class="headerlink" title="2.2 flex-grow ReactNative无"></a>2.2 flex-grow <strong>ReactNative无</strong></h4><blockquote>
<p><code>flex-grow:&lt;number&gt;</code>; &#x2F;* default 0 *&#x2F;属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jfhit38j20ma05v3yf.jpg" alt="flex-grow"></p>
</blockquote>
<h4 id="2-3-flex-shrink-ReactNative无"><a href="#2-3-flex-shrink-ReactNative无" class="headerlink" title="2.3 flex-shrink ReactNative无"></a>2.3 flex-shrink <strong>ReactNative无</strong></h4><blockquote>
<p>flex-shrink: <number>; &#x2F;* default 1 *&#x2F;属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。flex-basis<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jg0qxmyj21gq0gcq6d.jpg" alt="flex-shrink"></p>
</blockquote>
<h4 id="2-4-flex-basis-ReactNative无"><a href="#2-4-flex-basis-ReactNative无" class="headerlink" title="2.4 flex-basis ReactNative无"></a>2.4 flex-basis <strong>ReactNative无</strong></h4><blockquote>
<p><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jgd926fj21gq0fen0l.jpg" alt="flex-basis"></p>
</blockquote>
<h4 id="2-5-flex-ReactNative无"><a href="#2-5-flex-ReactNative无" class="headerlink" title="2.5 flex ReactNative无"></a>2.5 flex <strong>ReactNative无</strong></h4><blockquote>
<p><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jgrpxkkj21gi0i2tca.jpg" alt="flex"></p>
</blockquote>
<h4 id="2-6-align-self"><a href="#2-6-align-self" class="headerlink" title="2.6 align-self"></a>2.6 align-self</h4><blockquote>
<p><code>align-self: auto | flex-start | flex-end | center | baseline | stretch</code>;</p>
</blockquote>
<hr>
<blockquote>
<p>ReactNative中的 <code>alignSelf: auto | flex-start | flex-end | center | stretch</code>;<br><img data-src="https://ws1.sinaimg.cn/large/8bbf0afbly1fq8jh5hubvj21ho13qdlf.jpg"></p>
</blockquote>
<h3 id="3-FlexBox布局目前支持React-Native-的属性"><a href="#3-FlexBox布局目前支持React-Native-的属性" class="headerlink" title="3. FlexBox布局目前支持React Native 的属性"></a>3. FlexBox布局目前支持React Native 的属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FlexBox布局目前支持React Native 的属性有如下6个：</span><br><span class="line">(1) flex :number  大于0的时候才可伸缩，按照大小显示伸缩比例；</span><br><span class="line">(2) flexDirection :column(容器设置的属性:主轴方向默认－垂直方向，从上倒下)| `column-reverse` | row（水平方向，从左到右）| `row-reverse`；</span><br><span class="line">(3) flexWrap :wrap(换行) －－nowrap(不换行)//容器设置的属性</span><br><span class="line">(4) alignItems :flex-start | flex-end | center | stretch (容器设置的属性:伸缩项目在伸缩容器中的交叉轴的对齐方式)；</span><br><span class="line">(5) justifyContent : flex-start | flex-end | center | space-between | space-aronud （容器设置的属性:伸缩项目沿着垂直方向的对齐方式）；</span><br><span class="line">(6) alignSelf : flex-start | flex-end | center | auto | stretch。（伸缩项目在交叉轴的对齐方式）；</span><br><span class="line">(7) position : &#x27;absolute&#x27; | &#x27;relative&#x27; ;</span><br><span class="line">(8) zIndex : number ;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/06/10/React%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/06/10/React%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="post-title-link" itemprop="url">React 组件的生命周期</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-06-10 15:22:51" itemprop="dateCreated datePublished" datetime="2016-06-10T15:22:51+08:00">2016-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="组件的详细说明和生命周期（Component-Specs-and-Lifecycle）"><a href="#组件的详细说明和生命周期（Component-Specs-and-Lifecycle）" class="headerlink" title="组件的详细说明和生命周期（Component Specs and Lifecycle）"></a><span class="exturl" data-url="aHR0cDovL3JlYWN0anMuY24vcmVhY3QvZG9jcy9jb21wb25lbnQtc3BlY3MuaHRtbA==">组件的详细说明和生命周期（Component Specs and Lifecycle）<i class="fa fa-external-link-alt"></i></span></h2><hr>
<h3 id="Mounting-Cycle-挂载循环周期"><a href="#Mounting-Cycle-挂载循环周期" class="headerlink" title="Mounting Cycle 挂载循环周期"></a>Mounting Cycle 挂载循环周期</h3><blockquote>
<ol>
<li>constructor(object props)</li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. object getIniitialState() //它的返回值会成为this.state的初始值</span><br><span class="line">2. object getDefaultProps() //它的返回值会成为this.props的初始值</span><br></pre></td></tr></table></figure>
<blockquote>
<ol start="2">
<li>componentWillMount()&#x2F;&#x2F;本地读取数据用于显示,进行读取的好时机</li>
<li>render() -&gt; React Element</li>
<li>componentDidMount()&#x2F;&#x2F;获取网络数据比较好的选择</li>
</ol>
</blockquote>
<h3 id="Updating-Cycle-组件更新循环周期"><a href="#Updating-Cycle-组件更新循环周期" class="headerlink" title="Updating Cycle 组件更新循环周期"></a>Updating Cycle 组件更新循环周期</h3><blockquote>
<ol>
<li>componentWillReceiveProps(object nextProps)</li>
<li>shouldComponentUpdate(object nextProps, object nextState) -&gt; boolean</li>
<li>componentWillUpdate(object nextProps, object nextState)</li>
<li>render() -&gt; React Element</li>
<li>componentDidUpdate(object prevProps, object prevState)</li>
</ol>
</blockquote>
<h4 id="1-挂载：-componentWillMount"><a href="#1-挂载：-componentWillMount" class="headerlink" title="1.挂载： componentWillMount"></a>1.挂载： componentWillMount</h4><h4 id="2-挂载：-componentDidMount"><a href="#2-挂载：-componentDidMount" class="headerlink" title="2.挂载： componentDidMount"></a>2.挂载： componentDidMount</h4><h4 id="3-更新：-componentWillReceiveProps"><a href="#3-更新：-componentWillReceiveProps" class="headerlink" title="3.更新： componentWillReceiveProps"></a>3.更新： componentWillReceiveProps</h4><blockquote>
<p>componentWillReceiveProps(object nextProps)</p>
</blockquote>
<h4 id="4-更新：-shouldComponentUpdate"><a href="#4-更新：-shouldComponentUpdate" class="headerlink" title="4.更新： shouldComponentUpdate"></a>4.更新： shouldComponentUpdate</h4><blockquote>
<p>boolean shouldComponentUpdate(object nextProps, object nextState)</p>
</blockquote>
<h4 id="5-更新：-componentWillUpdate"><a href="#5-更新：-componentWillUpdate" class="headerlink" title="5.更新： componentWillUpdate"></a>5.更新： componentWillUpdate</h4><blockquote>
<p>componentWillUpdate(object nextProps, object nextState)</p>
</blockquote>
<h4 id="6-移除：-componentWillUnmount"><a href="#6-移除：-componentWillUnmount" class="headerlink" title="6.移除： componentWillUnmount"></a>6.移除： componentWillUnmount</h4><hr>
<h3 id="1-挂载：-componentWillMount-1"><a href="#1-挂载：-componentWillMount-1" class="headerlink" title="1.挂载： componentWillMount"></a>1.挂载： componentWillMount</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillMount</span>()</span><br></pre></td></tr></table></figure>

<p>服务器端和客户端都只调用一次，在初始化渲染执行之前立刻调用。如果在这个方法内调用 setState，render() 将会感知到更新后的 state，将会执行仅一次，尽管 state 改变了。</p>
<h3 id="2-挂载：-componentDidMount-1"><a href="#2-挂载：-componentDidMount-1" class="headerlink" title="2.挂载： componentDidMount"></a>2.挂载： componentDidMount</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidMount</span>()</span><br></pre></td></tr></table></figure>

<p>在初始化渲染执行之后立刻调用一次，仅客户端有效（服务器端不会调用）。在生命周期中的这个时间点，组件拥有一个 DOM 展现，你可以通过 this.getDOMNode() 来获取相应 DOM 节点。<br>如果想和其它 JavaScript 框架集成，使用 setTimeout 或者 setInterval 来设置定时器，或者发送 AJAX 请求，可以在该方法中执行这些操作。</p>
<h3 id="3-更新：-componentWillReceiveProps-1"><a href="#3-更新：-componentWillReceiveProps-1" class="headerlink" title="3.更新： componentWillReceiveProps"></a>3.更新： componentWillReceiveProps</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillReceiveProps</span>(object nextProps)</span><br></pre></td></tr></table></figure>

<p>在组件接收到新的 props 的时候调用。在初始化渲染的时候，该方法不会调用。<br>用此函数可以作为 react 在 prop 传入之后， render() 渲染之前更新 state 的机会。老的 props 可以通过 this.props 获取到。在该函数中调用 this.setState() 将不会引起第二次渲染。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">componentWillReceiveProps</span>: <span class="keyword">function</span>(<span class="params">nextProps</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">          <span class="attr">likesIncreasing</span>: nextProps.<span class="property">likeCount</span> &gt; <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">likeCount</span></span><br><span class="line">     &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-更新：-shouldComponentUpdate-1"><a href="#4-更新：-shouldComponentUpdate-1" class="headerlink" title="4.更新： shouldComponentUpdate"></a>4.更新： shouldComponentUpdate</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boolean <span class="title function_">shouldComponentUpdate</span>(object nextProps, object nextState)</span><br></pre></td></tr></table></figure>

<p>在接收到新的 props 或者 state，将要渲染之前调用。该方法在初始化渲染的时候不会调用，在使用 forceUpdate 方法的时候也不会。<br>如果确定新的 props 和 state 不会导致组件更新，则此处应该 返回 false。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">shouldComponentUpdate</span>: <span class="keyword">function</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> nextProps.<span class="property">id</span> !== <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">id</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果 shouldComponentUpdate 返回 false，则 render() 将不会执行，直到下一次 state 改变。（另外，componentWillUpdate 和 componentDidUpdate 也不会被调用。）<br>默认情况下，shouldComponentUpdate 总会返回 true，在 state 改变的时候避免细微的 bug，但是如果总是小心地把 state 当做不可变的，在 render() 中只从 props 和 state 读取值，此时你可以覆盖 shouldComponentUpdate 方法，实现新老 props 和 state 的比对逻辑。<br>如果性能是个瓶颈，尤其是有几十个甚至上百个组件的时候，使用 shouldComponentUpdate 可以提升应用的性能。</p>
<h3 id="5-更新：-componentWillUpdate-1"><a href="#5-更新：-componentWillUpdate-1" class="headerlink" title="5.更新： componentWillUpdate"></a>5.更新： componentWillUpdate</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillUpdate</span>(object nextProps, object nextState)</span><br></pre></td></tr></table></figure>
<p>在接收到新的 props 或者 state 之前立刻调用。在初始化渲染的时候该方法不会被调用。<br>使用该方法做一些更新之前的准备工作。</p>
<h3 id="6-移除：-componentWillUnmount-1"><a href="#6-移除：-componentWillUnmount-1" class="headerlink" title="6.移除： componentWillUnmount"></a>6.移除： componentWillUnmount</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillUnmount</span>()</span><br></pre></td></tr></table></figure>
<p>在组件从 DOM 中移除的时候立刻被调用。<br>在该方法中执行任何必要的清理，比如无效的定时器，或者清除在 componentDidMount 中创建的 DOM 元素。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://strawferry.github.io/2016/04/12/Hexo%20%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/strawferry/GSS@master/uPic/2023-08-20/icon-11-57-fa4iZT.jpg">
      <meta itemprop="name" content="FerryVip">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FerryVip's Blog">
      <meta itemprop="description" content="好好过一生">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | FerryVip's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/04/12/Hexo%20%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/" class="post-title-link" itemprop="url">折腾Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2016-04-12 17:57:22" itemprop="dateCreated datePublished" datetime="2016-04-12T17:57:22+08:00">2016-04-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 09:56:56" itemprop="dateModified" datetime="2023-08-20T09:56:56+08:00">2023-08-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Hexo-博客的安装流程"><a href="#Hexo-博客的安装流程" class="headerlink" title="Hexo 博客的安装流程"></a>Hexo 博客的安装流程</h2><h3 id="1-配置环境"><a href="#1-配置环境" class="headerlink" title="1.  配置环境"></a>1.  配置环境</h3><p>因为本人是用 Mac 所以就以主要介绍 Mac 的环境为主;</p>
<h4 id="1-1-安装-Node-环境"><a href="#1-1-安装-Node-环境" class="headerlink" title="1.1 安装 Node 环境"></a>1.1 安装 Node 环境</h4><blockquote>
<p>作用：用来生成静态页面的</p>
</blockquote>
<p>方法1. 直接上 <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnLw==">https://nodejs.org/<i class="fa fa-external-link-alt"></i></span> 官网下载安装</p>
<p>方法2. Homebrew 安装<br><span class="exturl" data-url="aHR0cDovL2JyZXcuc2gv">Homebrew<i class="fa fa-external-link-alt"></i></span> 是 Mac 系统的包管理器，用于安装 NodeJS 和一些其他必需的工具软件。</p>
<p>首先, 安装 Homebrew;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>复制上面代码在终端里面运行,等待安装完毕;</p>
<p>接下来在用 Homebrew 安装 Node;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure>

<p> 复制上面代码在终端里面运行,等待安装完毕;</p>
<h4 id="1-2-Github-或者-Coding-账户都可以"><a href="#1-2-Github-或者-Coding-账户都可以" class="headerlink" title="1.2  Github 或者 Coding 账户都可以"></a>1.2  <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLw==">Github<i class="fa fa-external-link-alt"></i></span> 或者 <span class="exturl" data-url="aHR0cHM6Ly9jb2RpbmcubmV0Lw==">Coding<i class="fa fa-external-link-alt"></i></span> 账户都可以</h4><blockquote>
<p>作用：是用来做博客的远程创库、域名、服务器之类的，怎么与本地hexo建立连接等下讲。</p>
</blockquote>
<h3 id="2-正式安装-Hexo"><a href="#2-正式安装-Hexo" class="headerlink" title="2. 正式安装 Hexo"></a>2. 正式安装 Hexo</h3><h4 id="2-1-安装-Hexo-的命令行工具"><a href="#2-1-安装-Hexo-的命令行工具" class="headerlink" title="2.1 安装 Hexo 的命令行工具"></a>2.1 安装 Hexo 的命令行工具</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure>

<p>复制上面代码在终端里面运行,等待安装完毕;</p>
<h4 id="2-2-初始化博客"><a href="#2-2-初始化博客" class="headerlink" title="2.2 初始化博客"></a>2.2 初始化博客</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init 你的博客名</span><br></pre></td></tr></table></figure>

<p>在终端中前往你要放置博客的文件夹位置, 运行上面代码,等待安装完毕;</p>
<h4 id="2-3-配置-Github-仓库"><a href="#2-3-配置-Github-仓库" class="headerlink" title="2.3 配置 Github 仓库"></a>2.3 配置 Github 仓库</h4><p>登录到你自己的 github 账号, 点击 new repository 开始创建仓库, 按照下面的填写你自己要的参数;<br><img data-src="https://ws4.sinaimg.cn/large/8bbf0afbgw1faodnclhivj20lr0hhwhx.jpg" alt="创建仓库"><br>配置 github pages 页面, 点击 Settings , 在 GitHub Pages 中开启配置为主分支<br><img data-src="https://ws2.sinaimg.cn/large/8bbf0afbgw1faodocx895j20l90gtdje.jpg" alt="配置 github pages"></p>
<h4 id="2-4-配置-Hexo-文件"><a href="#2-4-配置-Hexo-文件" class="headerlink" title="2.4 配置 Hexo 文件"></a>2.4 配置 Hexo 文件</h4><p>打开 Hexo 创建的根目录下的 _config.yml 文件,主要配置如下<br><img data-src="https://ws4.sinaimg.cn/large/8bbf0afbgw1faodmmnzjoj206a0ccgmb.jpg" alt="_config.yml 文件"></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">you</span> <span class="string">blog</span>  <span class="string">//</span> <span class="string">你博客的名称标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">//</span> <span class="string">你博客的小标题(选填)</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">好好过一生</span> <span class="string">//</span> <span class="string">博客的描述,可以写短小的座右铭</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">FerryVip</span> <span class="string">//</span> <span class="string">作者你的名字</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span> <span class="string">//</span> <span class="string">设置博客的语音(选填,默认英文)</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">//</span> <span class="string">时区(选填)</span></span><br></pre></td></tr></table></figure>


<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span>  <span class="string">//</span> <span class="string">类型就填</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:strawferry/FerryBlog.git</span> <span class="string">//</span> <span class="string">你的仓库地址,在配置</span> <span class="string">github</span> <span class="string">仓库成功后会有,可以用</span> <span class="string">HTTPS</span> <span class="string">(需要输入密码登录)和</span> <span class="string">SSH(需要配置SSH)</span> </span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="string">//</span> <span class="string">默认主分支</span></span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>复制上面代码在终端的 hexo 目录下里面运行,等待安装完毕;</p>
<h4 id="2-5-node-生成静态文件"><a href="#2-5-node-生成静态文件" class="headerlink" title="2.5 node 生成静态文件"></a>2.5 node 生成静态文件</h4><blockquote>
<p><code>hexo generate</code> 或者 <code>hexo g</code></p>
</blockquote>
<p>复制上面代码在终端的 hexo 目录下里面运行,等待运行完毕;</p>
<h4 id="2-6-本地运行查看"><a href="#2-6-本地运行查看" class="headerlink" title="2.6 本地运行查看"></a>2.6 本地运行查看</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br><span class="line">或者 </span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>复制上面代码在终端的 hexo 目录下里面运行,等待运行完毕, 显示通过访问 <code>http://localhost:4000/</code> 就可以预览博客;<br><img data-src="https://ws2.sinaimg.cn/large/8bbf0afbgw1faodsdxgi6j20zl0u4wl0.jpg"></p>
<h4 id="2-6-上传博客文件到-github"><a href="#2-6-上传博客文件到-github" class="headerlink" title="2.6 上传博客文件到 github"></a>2.6 上传博客文件到 github</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br><span class="line">或者 </span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>


<p>复制上面代码在终端的 hexo 目录下里面运行,等待运行完毕;<br>等待运行完毕基本就能访问刚才在 github 配置 pages 的链接了;</p>
<h4 id="2-7-编写你的博客"><a href="#2-7-编写你的博客" class="headerlink" title="2.7 编写你的博客"></a>2.7 编写你的博客</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;new article&quot;</span></span><br></pre></td></tr></table></figure>

<p>之后在source&#x2F;_posts目录下面，多了一个new-article.md的文件。<br>你通过编辑 new-article.md 就可以写你的日记了;</p>
<h4 id="2-8-一些常用的命令"><a href="#2-8-一些常用的命令" class="headerlink" title="2.8 一些常用的命令"></a>2.8 一些常用的命令</h4><blockquote>
<p> <code>hexo clean</code> &#x2F;&#x2F; 清除文件</p>
<p> <code>hexo generate</code> &#x2F;&#x2F; 生成静态文件</p>
<p> <code>hexo deploy</code> &#x2F;&#x2F; 部署代码上去 </p>
<p> <code>hexo new &quot;文章标题&quot;</code> &#x2F;&#x2F; 创建新文章</p>
</blockquote>
<h3 id="3-配置-Hexo-主题"><a href="#3-配置-Hexo-主题" class="headerlink" title="3. 配置 Hexo 主题"></a>3. 配置 Hexo 主题</h3><p>官方默认主题你懂得,不怎么好看,果断自己换个,本人觉得 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2lpc3NuYW4vaGV4by10aGVtZS1uZXh0">next<i class="fa fa-external-link-alt"></i></span> 的主题还可以,这边就以配置这个主题举个栗子;<br><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20v">官方使用文档<i class="fa fa-external-link-alt"></i></span></p>
<p>主题下载</p>
<blockquote>
<p><code>git clone https://github.com/iissnan/hexo-theme-next themes/next</code></p>
</blockquote>
<p>复制上面代码在终端的 hexo 目录下里面运行,等待下载完毕;</p>
<p>主题更改</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: landscape // 改为 next</span><br></pre></td></tr></table></figure>

<h2 id="到此基本配置-Hexo-和-主题更换已经都会了-要更好使用-还需要自己看下文档去详细配置"><a href="#到此基本配置-Hexo-和-主题更换已经都会了-要更好使用-还需要自己看下文档去详细配置" class="headerlink" title="到此基本配置 Hexo 和 主题更换已经都会了,要更好使用,还需要自己看下文档去详细配置;"></a>到此基本配置 Hexo 和 主题更换已经都会了,要更好使用,还需要自己看下文档去详细配置;</h2><h1 id="说说之前配置遇到的一个坑-前面我没有说到-就是要等大家都配置完了-大伙也会碰到的问题-在最后给大家说一下"><a href="#说说之前配置遇到的一个坑-前面我没有说到-就是要等大家都配置完了-大伙也会碰到的问题-在最后给大家说一下" class="headerlink" title="说说之前配置遇到的一个坑, 前面我没有说到,就是要等大家都配置完了,大伙也会碰到的问题,在最后给大家说一下"></a>说说之前配置遇到的一个坑, 前面我没有说到,就是要等大家都配置完了,大伙也会碰到的问题,在最后给大家说一下</h1><p><img data-src="https://ws4.sinaimg.cn/large/8bbf0afbgw1faoe9p3zvtj20zk0u0jx2.jpg"></p>
<p>就是在本地跑 <code>hexo server</code> 一切看起来都好好的,样式都没啥问题, 当去看 pages 的时候,发现样式惨不忍睹,这就对了,因为还有一个东西还没有配置;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span><br><span class="line">url: http://yoursite.com  // 把你在 pages 配置的那个网址链接复制在这个地方就解决了</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">FerryVip</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.12/pdfobject.min.js","integrity":"sha256-g2xji1rlE3KsGVClvuxTbcR0Kn2+wtQADSff2Tbb4zA="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.3.0/mermaid.min.js","integrity":"sha256-9y71g5Lz/KLsHjB8uXwnkuWDtAMDSzD/HdIbqhJfTAI="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>



  <script src="/js/third-party/pace.js"></script>


  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
